task compile {
    doLast {
        println 'compile...'
    }
}

task building {

    onlyIf{
        compile.didWork
    }

    doLast {
        println 'build...'
    }
}